.header {
    @apply max-w-[1540px];
    @apply m-3 md:m-4 lg:m-3 xl:m-4;
    @apply mb-8 md:mb-12 xl:mb-20;
    @apply 3xl:mx-auto;

    /* Постоянная sticky позиция с top вместо margin-top */
    @apply sticky top-3 md:top-4 lg:top-3 xl:top-4;
    @apply z-100;
}

.header__container {
    @apply relative z-100;
    @apply rounded-3xl lg:bg-white;

    box-shadow: 0 2px 8px 0 rgba(33, 37, 75, 0.11);
}

.header {
    .header__main {
        @apply transition-all;
    }

    .header__extra {
        @apply transition-all duration-300 ease-in-out;
        @apply max-h-0 overflow-hidden opacity-0 scale-90;

        @apply max-lg:absolute max-lg:left-0 max-lg:right-0;
    }

    &[data-open="false"] {
        .header__extra {
            @apply !p-0 !m-0;
        }
    }

    &[data-open="true"] {
        .header__main {
        }

        .header__extra {
            @apply max-h-[1000px] opacity-100 scale-100;
        }
    }
}

.header__overlay {
    @apply fixed inset-0 transition-all duration-300 pointer-events-none;
    @apply bg-blue-900/0;
    @apply z-99;
}

.header[data-open="true"] .header__overlay {
    @apply pointer-events-auto;
    @apply max-lg:bg-blue-900/50;
    @apply max-lg:backdrop-blur-lg;
}

/* Sticky header состояния */
.header__container.header_sticky {
    @apply transition-all duration-500 ease-in-out backdrop-blur-md;
    @apply opacity-100;
    will-change: opacity, transform;
    /* background: rgba(255, 255, 255, 0.95) !important; */
    /* box-shadow: 0 2px 20px 0 rgba(33, 37, 75, 0.15) !important; */
    transform: translateY(0);
}

.header__container.header_sticky.header_hidden {
    @apply opacity-0;
    transform: translateY(-50px);
    @apply pointer-events-none;
}

@media (prefers-reduced-motion: no-preference) {
    .header__container.header_sticky {
        @apply transition-all duration-200 ease-out;
    }
}
